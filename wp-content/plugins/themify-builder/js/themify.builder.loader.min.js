/*
 Themify Builder - Asynchronous Script and Styles Loader */
(function(c,k,d){c(d).ready(function(){function q(){if(void 0!==tinymce&&tinyMCE){tinyMCEPreInit.mceInit.tb_lb_hidden_editor.wp_autoresize_on=!1;var d=tinyMCEPreInit.mceInit.tb_lb_hidden_editor.content_css.split(",");tinyMCEPreInit.mceInit.tb_lb_hidden_editor.content_css=void 0!==d[1]?d[1]:d[0];tinyMCEPreInit.mceInit.tb_lb_hidden_editor.plugins="charmap,colorpicker,hr,lists,media,paste,tabfocus,textcolor,fullscreen,wordpress,wpautoresize,wpeditimage,wpemoji,wpgallery,wpdialogs,wptextpattern,wpview";
tinyMCEPreInit.mceInit.tb_lb_hidden_editor.indent="simple";tinyMCEPreInit.mceInit.tb_lb_hidden_editor.ie7_compat=!1;tinyMCEPreInit.mceInit.tb_lb_hidden_editor.root_name="div";tinyMCEPreInit.mceInit.tb_lb_hidden_editor.relative_urls=!0;tinyMCE.execCommand("mceRemoveEditor",!0,"tb_lb_hidden_editor");c("#wp-tb_lb_hidden_editor-editor-container,#wp-tb_lb_hidden_editor-editor-tools,#wp-link-backdrop,#wp-link-wrap").remove()}}var m=!1,g=c("body");if(void 0===wp||void 0===wp.customize){var h='<a class="themify_builder_turn_on js-turn-on-builder" href="javascript:void(0);"><span class="dashicons dashicons-edit"></span>'+
tbLoaderVars.turnOnBuilder+"</a>";for(var e=d.querySelectorAll(".themify_builder_content:not(.not_editable_builder)"),b=0,p=e.length;b<p;++b)e[b].insertAdjacentHTML("afterend",h)}var n=0<k.location.href.indexOf("?")?"&":"?",n=k.location.href.replace(k.location.hash,"").replace("#","")+n+"tb-preview=1&ver="+tbLocalScript.version;g.one("click.tbloader",".toggle_tb_builder a:first, a.js-turn-on-builder",function(b){b.preventDefault();var e=c("#wpadminbar .themify_builder_front_icon").data("id");setTimeout(q,
1);var h=g.children(),f=Array.prototype.slice.call(d.head.getElementsByTagName("link")),l=Array.prototype.slice.call(d.head.getElementsByTagName("script")).concat(Array.prototype.slice.call(d.head.getElementsByTagName("style")));g[0].insertAdjacentHTML("beforeend",'<div class="themify_builder_workspace_container"><iframe src="'+n+'" id="themify_builder_site_canvas_iframe" name="themify_builder_site_canvas_iframe" class="themify_builder_site_canvas_iframe"></iframe></div>');m||setTimeout(function(){for(var a=
0,b=tbLoaderVars.styles.length;a<b;++a)Themify.LoadCss(tbLoaderVars.styles[a]);a=0;for(b=tbLoaderVars.js.length;a<b;++a){if(tbLoaderVars.js[a].external){var e=d.createElement("script");e.type="text/javascript";e.text=tbLoaderVars.js[a].external;var f=d.getElementsByTagName("script")[0];f.parentNode.insertBefore(e,f)}Themify.LoadAsync(tbLoaderVars.js[a].src,null,tbLoaderVars.js[a].ver)}m=c("<div/>",{id:"themify_builder_alert","class":"tb_busy"});g[0].insertAdjacentHTML("afterbegin",'<div class="themify_builder_fixed_scroll" id="themify_builder_fixed_bottom_scroll"></div>');
g.append(m);c(".themify_builder_front_icon").parent()[0].insertAdjacentHTML("beforeend",tbLoaderVars.progress)},1);c("#themify_builder_site_canvas_iframe").one("load",function(){c("body").one("themify_builder_ready",function(a){m.fadeOut(100,function(){c(this).removeClass("tb_busy")});c(".themify_builder_workspace_container").show();h.hide();a=0;for(var b=l.length;a<b;++a)l[a]&&l[a].parentNode&&l[a].parentNode.removeChild(l[a]);l=null;a=0;for(b=f.length;a<b;++a)f[a]&&f[a].parentNode&&"dashicons-css"!==
f[a].getAttribute("id")&&-1===f[a].getAttribute("href").indexOf("tinymce/skins")&&f[a].parentNode.removeChild(f[a]);f=null;c(".themify_builder_content,#wpadminbar,header").remove();h.filter("ul,a,video,audio").remove();c(k).off();g.off("scroll");c(d).off();c("html").removeAttr("style class");g.prop("class","themify_builder_active builder-breakpoint-desktop").removeAttr("style");tbLoaderVars=null});this.contentWindow.themifyBuilder.post_ID=e;this.contentWindow.jQuery("body").trigger("builderiframeloaded.themify",
this)})});if("#builder_active"===k.location.hash)c(d).on("tinymce-editor-init",function(b,d){"tb_lb_hidden_editor"===d.id&&(c(".js-turn-on-builder").first().trigger("click"),k.location.hash="")});else{h='<link href="'+n+'" rel="prerender prefetch"/>';for(var e=tinyMCEPreInit.mceInit.tb_lb_hidden_editor.content_css.split(","),r=tinyMCEPreInit.mceInit.tb_lb_hidden_editor.cache_suffix,b=0,p=e.length;b<p;++b)e[b]+=(-1<e[b].indexOf("?")?"&":"?")+r,h+='<link href="'+e[b]+'" rel="prefetch"/>';d.getElementsByTagName("head")[0].insertAdjacentHTML("beforeend",
h)}})})(jQuery,window,document);
